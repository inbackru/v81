# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ InBack

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–ª—ã–º–∏ –∫–æ–º–ø–ª–µ–∫—Å–∞–º–∏

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π –ñ–ö

–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∂–∏–ª–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ `residential_complexes`:

#### 1. **–û—Å–Ω–æ–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ** (`description`)
–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Å–∞ (1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)

```sql
UPDATE residential_complexes
SET description = '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∂–∏–ª–æ–π –∫–æ–º–ø–ª–µ–∫—Å –ø—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä–∞'
WHERE slug = 'zhk-name';
```

#### 2. **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ** (`detailed_description`)
–†–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ñ–ö

```sql
UPDATE residential_complexes
SET detailed_description = '–ñ–ö –§–õ–û–†–ê - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∂–∏–ª–æ–π –∫–æ–º–ø–ª–µ–∫—Å —Å –ø—Ä–æ–¥—É–º–∞–Ω–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∏ —É–¥–æ–±–Ω–æ–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é. –ö–æ–º–ø–ª–µ–∫—Å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ —Ä–∞–∑–≤–∏–≤–∞—é—â–µ–º—Å—è —Ä–∞–π–æ–Ω–µ —Å –æ—Ç–ª–∏—á–Ω–æ–π —ç–∫–æ–ª–æ–≥–∏–µ–π –∏ –≤—Å–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.'
WHERE slug = 'zhk-flora';
```

#### 3. **–ß—Ç–æ —Ä—è–¥–æ–º** (`nearby`)
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–ª–∏–∑–ª–µ–∂–∞—â–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```sql
UPDATE residential_complexes
SET nearby = '–¢–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä "–ö—Ä–∞—Å–Ω–∞—è –ø–ª–æ—â–∞–¥—å" (500–º), –®–∫–æ–ª–∞ ‚Ññ87 (300–º), –ü–∞—Ä–∫ "–°–æ–ª–Ω–µ—á–Ω—ã–π –æ—Å—Ç—Ä–æ–≤" (1–∫–º), –î–µ—Ç—Å–∫–∏–π —Å–∞–¥ ‚Ññ15 (200–º), –ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∞ ‚Ññ3 (700–º)'
WHERE slug = 'zhk-flora';
```

#### 4. **–í—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–æ–≤** (`ceiling_height`)
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã—Å–æ—Ç–µ –ø–æ—Ç–æ–ª–∫–æ–≤ –≤ –∫–≤–∞—Ä—Ç–∏—Ä–∞—Ö

```sql
UPDATE residential_complexes
SET ceiling_height = '–æ—Ç 3.0 –º'
WHERE slug = 'zhk-flora';
```

#### 5. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞** (`advantages`)
JSON-–º–∞—Å—Å–∏–≤ —Å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º–∏ –∫–æ–º–ø–ª–µ–∫—Å–∞

```sql
UPDATE residential_complexes
SET advantages = '["–ó–∞–∫—Ä—ã—Ç–∞—è –æ—Ö—Ä–∞–Ω—è–µ–º–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è", "–ü–æ–¥–∑–µ–º–Ω—ã–π –ø–∞—Ä–∫–∏–Ω–≥", "–î–µ—Ç—Å–∫–∏–µ –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏", "–í–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ 24/7", "–ö–æ–Ω—Å—å–µ—Ä–∂-—Å–µ—Ä–≤–∏—Å", "–ó–æ–Ω–∞ BBQ", "–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–æ—Ç–µ–ª—å–Ω–∞—è"]'
WHERE slug = 'zhk-flora';
```

#### 6. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** (`infrastructure`)
–û–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–ª–∏ JSON-–º–∞—Å—Å–∏–≤

```sql
UPDATE residential_complexes
SET infrastructure = '–ù–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –∫–æ–º–ø–ª–µ–∫—Å–∞: –¥–µ—Ç—Å–∫–∏–π —Å–∞–¥, —à–∫–æ–ª–∞, —Ñ–∏—Ç–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä, –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã, –∫–∞—Ñ–µ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã'
WHERE slug = 'zhk-flora';
```

### –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ñ–ö

```sql
UPDATE residential_complexes
SET 
    description = '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∂–∏–ª–æ–π –∫–æ–º–ø–ª–µ–∫—Å –ø—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä–∞',
    detailed_description = '–ñ–ö –§–õ–û–†–ê - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∂–∏–ª–æ–π –∫–æ–º–ø–ª–µ–∫—Å —Å –ø—Ä–æ–¥—É–º–∞–Ω–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∏ —É–¥–æ–±–Ω–æ–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é. –ö–æ–º–ø–ª–µ–∫—Å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ —Ä–∞–∑–≤–∏–≤–∞—é—â–µ–º—Å—è —Ä–∞–π–æ–Ω–µ —Å –æ—Ç–ª–∏—á–Ω–æ–π —ç–∫–æ–ª–æ–≥–∏–µ–π.',
    nearby = '–¢–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä "–ö—Ä–∞—Å–Ω–∞—è –ø–ª–æ—â–∞–¥—å" (500–º), –®–∫–æ–ª–∞ ‚Ññ87 (300–º), –ü–∞—Ä–∫ "–°–æ–ª–Ω–µ—á–Ω—ã–π –æ—Å—Ç—Ä–æ–≤" (1–∫–º), –î–µ—Ç—Å–∫–∏–π —Å–∞–¥ (200–º)',
    ceiling_height = '–æ—Ç 3.0 –º',
    advantages = '["–ó–∞–∫—Ä—ã—Ç–∞—è –æ—Ö—Ä–∞–Ω—è–µ–º–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è", "–ü–æ–¥–∑–µ–º–Ω—ã–π –ø–∞—Ä–∫–∏–Ω–≥", "–î–µ—Ç—Å–∫–∏–µ –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏", "–í–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ 24/7", "–ö–æ–Ω—Å—å–µ—Ä–∂-—Å–µ—Ä–≤–∏—Å", "–ó–æ–Ω–∞ BBQ"]',
    infrastructure = '–ù–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏: –¥–µ—Ç—Å–∫–∏–π —Å–∞–¥, —à–∫–æ–ª–∞, —Ñ–∏—Ç–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä, –º–∞–≥–∞–∑–∏–Ω—ã, –∫–∞—Ñ–µ'
WHERE slug = 'zhk-flora'
RETURNING id, name;
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ñ–ö

```sql
SELECT 
    id,
    name,
    slug,
    description,
    detailed_description,
    nearby,
    ceiling_height,
    advantages,
    infrastructure
FROM residential_complexes
WHERE slug = 'zhk-flora';
```

### –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –ñ–ö

```sql
SELECT 
    id,
    name,
    slug,
    CASE 
        WHEN nearby IS NULL THEN '‚ùå –ù–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ'
        ELSE '‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–æ'
    END as nearby_status,
    CASE 
        WHEN detailed_description IS NULL THEN '‚ùå –ù–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ'
        ELSE '‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–æ'
    END as description_status
FROM residential_complexes
WHERE is_active = true
ORDER BY name;
```

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞–º–∏ –æ—Ç–¥–µ–ª–∫–∏

–¢–∏–ø—ã –æ—Ç–¥–µ–ª–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ:

- `no_renovation` ‚Üí "–ë–µ–∑ –æ—Ç–¥–µ–ª–∫–∏"
- `fine_finish` ‚Üí "–ß–∏—Å—Ç–æ–≤–∞—è"
- `rough_finish` ‚Üí "–ß–µ—Ä–Ω–æ–≤–∞—è"
- `design_repair` ‚Üí "–î–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–π —Ä–µ–º–æ–Ω—Ç"

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `PropertyRepository.RENOVATION_DISPLAY_NAMES`.

---

## –§–æ—Ä–º–∞—Ç –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∫–≤–∞—Ä—Ç–∏—Ä

–ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–≤–∞—Ä—Ç–∏—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
**"–°—Ç—É–¥–∏—è, 23.4 –º¬≤, 1/1 —ç—Ç."**

–î–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```sql
UPDATE properties
SET title = 
    CASE 
        WHEN rooms = 0 THEN '–°—Ç—É–¥–∏—è, ' || area || ' –º¬≤, ' || floor || '/' || total_floors || ' —ç—Ç.'
        WHEN rooms = 10 THEN '–°–≤–æ–±. –ø–ª–∞–Ω., ' || area || ' –º¬≤, ' || floor || '/' || total_floors || ' —ç—Ç.'
        ELSE rooms || '-–∫–æ–º–Ω., ' || area || ' –º¬≤, ' || floor || '/' || total_floors || ' —ç—Ç.'
    END
WHERE residential_complex_id IS NOT NULL;
```

---

## üìπ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ –æ –ñ–ö

### üéØ –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤)

**–ù–æ–≤–∏–Ω–∫–∞!** –¢–µ–ø–µ—Ä—å –º–µ–Ω–µ–¥–∂–µ—Ä—ã –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –≤–∏–¥–µ–æ –ø—Ä—è–º–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ñ–ö:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∂–∏–ª–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/zk/zhk-flora`)
2. –í —à–∞–ø–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ **"–î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ"** ‚ö°
3. –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
   - **–í–∫–ª–∞–¥–∫–∞ "–°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ"**: –≤—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ YouTube, Rutube, VK –∏ –¥—Ä.
   - **–í–∫–ª–∞–¥–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª"**: –≤—ã–±–µ—Ä–∏—Ç–µ MP4-—Ñ–∞–π–ª —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
4. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"** - –≤–∏–¥–µ–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ!

### üìù –ß–µ—Ä–µ–∑ SQL (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±)

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ SQL-–∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:

### üé¨ –í–∞—Ä–∏–∞–Ω—Ç 1: –°—Å—ã–ª–∫–∏ –Ω–∞ YouTube, Rutube –∏ –¥—Ä—É–≥–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–µ `videos` (JSON-–º–∞—Å—Å–∏–≤) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∏–¥–µ–æ:

```sql
UPDATE residential_complexes
SET videos = '[
    {
        "type": "youtube",
        "url": "https://www.youtube.com/watch?v=VIDEO_ID",
        "title": "–û–±–∑–æ—Ä –∂–∏–ª–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Å–∞",
        "description": "–ü–æ–ª–Ω—ã–π –≤–∏–¥–µ–æ-–æ–±–∑–æ—Ä –ñ–ö –§–õ–û–†–ê"
    },
    {
        "type": "rutube",
        "url": "https://rutube.ru/video/VIDEO_ID/",
        "title": "–≠–∫—Å–∫—É—Ä—Å–∏—è –ø–æ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏",
        "description": "–ü—Ä–æ–≥—É–ª–∫–∞ –ø–æ –±–ª–∞–≥–æ—É—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏"
    },
    {
        "type": "vk",
        "url": "https://vk.com/video-123456_789012",
        "title": "–û—Ç–∑—ã–≤—ã –∂–∏–ª—å—Ü–æ–≤"
    }
]'
WHERE slug = 'zhk-flora';
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã:**
- `youtube` - YouTube (—Å—Å—ã–ª–∫–∏ –≤–∏–¥–∞ `https://www.youtube.com/watch?v=...` –∏–ª–∏ `https://youtu.be/...`)
- `rutube` - Rutube (—Ä–æ—Å—Å–∏–π—Å–∫–∏–π –≤–∏–¥–µ–æ—Ö–æ—Å—Ç–∏–Ω–≥)
- `vk` - VK Video (–í–ö–æ–Ω—Ç–∞–∫—Ç–µ)
- `ok` - OK.ru (–û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∏)
- `dzen` - –Ø–Ω–¥–µ–∫—Å.–î–∑–µ–Ω
- `vimeo` - Vimeo
- `custom` - –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ —Ñ–∞–π–ª

### üì§ –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ —Ñ–∞–π–ª –Ω–∞–ø—Ä—è–º—É—é

–ï—Å–ª–∏ –≤–∏–¥–µ–æ –Ω–µ—Ç –≤ –æ–Ω–ª–∞–π–Ω, –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

**–®–∞–≥ 1:** –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∏–¥–µ–æ —Ñ–∞–π–ª –≤ –ø–∞–ø–∫—É `/static/uploads/complexes/videos/`

**–®–∞–≥ 2:** –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É:

```sql
UPDATE residential_complexes
SET uploaded_video = '/static/uploads/complexes/videos/zhk-flora-overview.mp4'
WHERE slug = 'zhk-flora';
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –§–æ—Ä–º–∞—Ç: MP4 (H.264 –∫–æ–¥–µ–∫) - –ª—É—á—à–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 1920x1080 (Full HD) –∏–ª–∏ 1280x720 (HD)
- –†–∞–∑–º–µ—Ä: –¥–æ 50 –ú–ë (–¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏)
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 1-3 –º–∏–Ω—É—Ç—ã –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ

### üîÑ –í–∞—Ä–∏–∞–Ω—Ç 3: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ —Å—Å—ã–ª–∫–∏, –∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ –≤–∏–¥–µ–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:

```sql
UPDATE residential_complexes
SET 
    videos = '[
        {
            "type": "youtube",
            "url": "https://www.youtube.com/watch?v=abc123",
            "title": "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–æ-—Ä–æ–ª–∏–∫"
        }
    ]',
    uploaded_video = '/static/uploads/complexes/videos/zhk-flora-tour.mp4'
WHERE slug = 'zhk-flora';
```

### üìã –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –¢–æ–ª—å–∫–æ YouTube:
```sql
UPDATE residential_complexes
SET videos = '[{"type": "youtube", "url": "https://www.youtube.com/watch?v=dQw4w9WgXcQ", "title": "–û–±–∑–æ—Ä –ñ–ö"}]'
WHERE slug = 'zhk-otrazhenie';
```

#### –¢–æ–ª—å–∫–æ Rutube:
```sql
UPDATE residential_complexes
SET videos = '[{"type": "rutube", "url": "https://rutube.ru/video/abc123/", "title": "–í–∏–¥–µ–æ-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è"}]'
WHERE slug = 'zhk-svetskij-les';
```

#### –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–∏–¥–µ–æ —Å —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º:
```sql
UPDATE residential_complexes
SET videos = '[
    {"type": "youtube", "url": "https://www.youtube.com/watch?v=abc123", "title": "–ü—Ä–æ–º–æ-—Ä–æ–ª–∏–∫"},
    {"type": "rutube", "url": "https://rutube.ru/video/def456/", "title": "–≠–∫—Å–∫—É—Ä—Å–∏—è"},
    {"type": "vk", "url": "https://vk.com/video-123_456", "title": "–û—Ç–∑—ã–≤—ã"}
]'
WHERE slug = 'zhk-kislorod';
```

#### –¢–æ–ª—å–∫–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª:
```sql
UPDATE residential_complexes
SET uploaded_video = '/static/uploads/complexes/videos/complex-preview.mp4'
WHERE slug = 'zhk-letnij';
```

### üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–¥–µ–æ —É –ñ–ö

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–µ –≤–∏–¥–µ–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã:

```sql
SELECT 
    id,
    name,
    slug,
    CASE 
        WHEN videos IS NOT NULL THEN '‚úÖ –ï—Å—Ç—å —Å—Å—ã–ª–∫–∏'
        ELSE '‚ùå –ù–µ—Ç —Å—Å—ã–ª–æ–∫'
    END as video_links_status,
    CASE 
        WHEN uploaded_video IS NOT NULL THEN '‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ'
        ELSE '‚ùå –ù–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ'
    END as uploaded_video_status,
    videos,
    uploaded_video
FROM residential_complexes
WHERE is_active = true
ORDER BY name;
```

### üìù –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ä–æ–≥–æ –ø–æ–ª—è video_url

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ç–∞—Ä–æ–º –ø–æ–ª–µ `video_url`, –∏—Ö –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏:

```sql
UPDATE residential_complexes
SET videos = '[{"type": "youtube", "url": "' || video_url || '", "title": "–í–∏–¥–µ–æ –æ –∫–æ–º–ø–ª–µ–∫—Å–µ"}]'
WHERE video_url IS NOT NULL AND videos IS NULL;
```

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **JSON-—Ñ–æ—Ä–º–∞—Ç**: –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ `videos` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON (–¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–∫–æ–±–∫–∏)
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –≤–∏–¥–µ–æ —Ç–æ–ª—å–∫–æ –∏–∑ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
3. **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤**: –ù–µ –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ –≤–∏–¥–µ–æ - —ç—Ç–æ –∑–∞–º–µ–¥–ª–∏—Ç –∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
4. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: –•—Ä–∞–Ω–∏—Ç–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—ã –≤–∏–¥–µ–æ –æ—Ç–¥–µ–ª—å–Ω–æ
5. **–ü—Ä–∞–≤–∞**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á (APScheduler)

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ–Ω–æ–≤—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏:

#### `ENABLE_SCHEDULER`

–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á (APScheduler) –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –¥–∞–π–¥–∂–µ—Å—Ç–æ–≤.

**–ó–Ω–∞—á–µ–Ω–∏—è:**
- `true` - –≤–∫–ª—é—á–∏—Ç—å —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production)
- `false` –∏–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ - –æ—Ç–∫–ª—é—á–∏—Ç—å —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è development)

**–§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏:**
- üîî **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- üìß **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç**: –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 8:00
- üìÜ **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç**: –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 8:00

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Development

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ **–ù–ï** —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ `ENABLE_SCHEDULER`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏:

```bash
# –í .env —Ñ–∞–π–ª –ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ:
# ENABLE_SCHEDULER=true
```

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤ –ª–æ–≥–∞—Ö –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
‚è∏Ô∏è  APScheduler skipped - Set ENABLE_SCHEDULER=true to run background jobs
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Production

–î–ª—è production —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `ENABLE_SCHEDULER=true`:

**–í Replit (Secrets):**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª "Secrets" –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π —Å–µ–∫—Ä–µ—Ç:
   - Key: `ENABLE_SCHEDULER`
   - Value: `true`

**–í deployment configuration:**
```toml
[deployment]
environment = { ENABLE_SCHEDULER = "true" }
```

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤ –ª–æ–≥–∞—Ö –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
‚úÖ APScheduler started - Background jobs configured:
   üîî Instant alerts: Every 5 minutes
   üìß Daily digest: Every day at 8:00 AM
   üìÜ Weekly digest: Every Monday at 8:00 AM
```

### ‚ö†Ô∏è –í–∞–∂–Ω–æ: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

–î–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è **–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** scheduler –≤ Gunicorn workers:
- Scheduler –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **–¢–û–õ–¨–ö–û** –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `ENABLE_SCHEDULER=true`
- –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∑–∞–¥–∞—á–∏ –Ω–µ –±—É–¥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
- –í—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ, –∫–æ–≥–¥–∞ –∏ –≥–¥–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è scheduler

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã scheduler

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π:
- `‚úÖ APScheduler started` - scheduler —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
- `üîî Running instant alerts check...` - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- `‚úÖ Instant alerts job completed: X alerts sent` - –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ X —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

